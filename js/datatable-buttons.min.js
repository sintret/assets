window.onerror=function(e,t,r,o,a){return toastr.error(a.message,"Error occurred"),setTimeout(function(){toastr.info("Please wait a moment while we are repairing your problem.","Info"),ajaxPost(`/${dataTableRoute}/reload`,{},function(e){toastr.info("Please refresh / reload your browser.\n ","Info")})},2500),setTimeout(function(){window.location.href=`/${dataTableRoute}`},4500),!1},$("body").on("click",".gridview",function(e){e.stopPropagation(),location.href=`/${dataTableRoute}/view/`+$(this).data("id")}),$("body").on("click",".gridupdate",function(e){e.stopPropagation(),location.href=`/${dataTableRoute}/update/`+$(this).data("id")}),$("body").on("click",".griddelete",function(e){e.stopPropagation(),window.confirm("sure to delete")&&ajaxDelete(`/${dataTableRoute}/delete/`,{id:$(this).data("id")},function(e){toastrForm(e),1==e.status&&(location.href="")})}),$("body").on("click",".gridapproval",function(e){e.stopPropagation(),location.href=`/${dataTableRoute}/approval/`+$(this).data("id")}),$("body").on("click",".gridadd",function(e){e.stopPropagation(),location.href=`/${dataTableRoute}/create`}),$(".export-parsing").on("click",function(e){e.stopPropagation(),location.href=`/${dataTableRoute}/excel-query?zraws=1&${queryParams()}`}),$("body").on("click",".gridexcel",function(e){e.stopPropagation(),location.href=`/${dataTableRoute}/excel-query?${queryParams()}`}),$(".export-xls").on("click",function(e){e.stopPropagation(),location.href=`/${dataTableRoute}/excel?${queryParams()}`}),$(".export-search-prety").on("click",function(e){e.stopPropagation(),location.href=`/${dataTableRoute}/excel-query?zraws=0&zsearch=1&all=0&${queryParams()}`}),$(".export-search-raw").on("click",function(e){e.stopPropagation(),location.href=`/${dataTableRoute}/excel-query?ztype=0&zraws=1&zsearch=1&all=0&${queryParams()}`}),$(".export-all-prety").on("click",function(e){e.stopPropagation(),location.href=`/${dataTableRoute}/excel-query?ztype=0&zraws=0&zsearch=0&all=1&${queryParams()}`}),$(".export-all-raw").on("click",function(e){e.stopPropagation(),location.href=`/${dataTableRoute}/excel-query?ztype=0&zraws=1&zsearch=0&all=1&${queryParams()}`}),$(".export-pdf").on("click",function(e){e.stopPropagation(),toastr.info("Downloading.."),location.href=`/${dataTableRoute}/excel-query?ztype=1&zraws=0&zsearch=0&all=0&${queryParams()}`}),$(".export-all-pdf").on("click",function(e){e.stopPropagation(),toastr.info("Sedang mengunduh.."),location.href=`/${dataTableRoute}/excel-query?ztype=1&zraws=0&zsearch=0&all=1&${queryParams()}`}),$(".export-standart").on("click",function(e){e.stopPropagation(),location.href=`/${dataTableRoute}/excel-query?zstandart=1&zraws=0&zsearch=0&all=0&${queryParams()}`}),$(".export-standart-all").on("click",function(e){e.stopPropagation(),location.href=`/${dataTableRoute}/excel-query?zstandart=1&zraws=0&zsearch=0&all=1&${queryParams()}`}),$("body").on("click",".myreport-grid",function(e){e.stopPropagation(),toastr.info("Downloading...");let t=$(this).data("id");location.href=`/myreport/${t}`}),$("body").on("click",".gridimport",function(e){e.stopPropagation(),location.href=`/${dataTableRoute}/import`}),$("body").on("click",".gridreload",function(e){e.preventDefault(),ajaxPost(`/${dataTableRoute}/reload`,{},function(e){location.href=`/${dataTableRoute}`})}),$("body").on("click",".gridprint",function(e){e.preventDefault(),window.open("/print_za/"+$(this).data("token"),"_blank")}),$("ul.gridsortable").sortable({group:"gridsortable",isValidTarget:function(e,t){return!e.is(".disabled")},onDrop:function(e,t,r){let o=e.parents().attr("id");"gridleft"==o?(e.find("span").addClass("fa-eye").removeClass("fa-eye-slash"),e.find("img").attr("src","/assets/icons/eye.svg")):e.find("img").attr("src","/assets/icons/eye-off.svg"),r(e,t)}}),$(".grid-submit").on("click",function(){let e=[];$("#gridleft li").each(function(t){let r=$(this).attr("data-name");r&&e.push(r)}),$("#serialize_left").val(JSON.stringify(e));let t=[];$("#gridright li").each(function(e){let r=$(this).attr("data-name");r&&t.push(r)}),$("#serialize_right").val(JSON.stringify(t)),$("#form-grid").submit()}),$(".grid-reset").on("click",function(){ajaxDelete(`/${dataTableRoute}/grid`,{},function(e){0==e.status?toastr.error(e.message,e.title):($("#jsGrid").jsGrid("loadData"),toastr.success(e.message,e.title)),location.href=""})}),submitForm("form-grid","",`/${dataTableRoute}`),$("input[name='_csrf']").val(document.querySelector('meta[name="csrf-token"]').getAttribute("content")),$("#dataTable_filter").hide(),$(function(){window.matchMedia("(max-width: 450px)").matches?$("#dataTable>thead>tr").eq(1).hide():$("#dataTable>thead>tr").eq(1).show()});
